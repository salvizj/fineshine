---
import type { LanguageCode } from "../../i18n/utils"
import SocialLinks from "./SocialLinks.astro"

interface Props {
	t: (key: string) => string
	languageCode: LanguageCode
}
const { t, languageCode } = Astro.props as Props

const phoneNumber = "+371 23370066"
const address = "LÄ«vzemes iela 22B, Salaspils, LV-2169, Latvija"
const cookiePolicyLink = "cookie-policy"
const autoDetailingLink = "auto-detailing"
const servicesLink = "services"
const recentWorkLink = "#recent_work"

const cookiePolicyHref = `/${languageCode}/${cookiePolicyLink}`
const autoDetailingHref = `/${languageCode}/${autoDetailingLink}`
const servicesHref = `/${languageCode}/${servicesLink}`
const recentWorkHref = `/${languageCode}/${recentWorkLink}`
---

<footer class="w-full bg-bg-default" aria-label="Site footer">
	<hr class="mb-4 border-border-muted" />

	<div class="flex justify-center px-4">
		<div
			class="flex flex-col md:flex-row flex-wrap justify-center gap-6 max-w-[1100px] w-full mx-auto"
		>
			{/* Location Section */}
			<section
				id="location"
				class="flex flex-col items-start text-left px-2 w-full md:w-64"
			>
				<h5 class="mb-2">
					{t("footer.location")}
				</h5>
				<address
					class="not-italic leading-relaxed break-normal text-text-secondary text-base"
				>
					{address}
				</address>
			</section>

			{/* Contacts Section */}
			<section
				id="contacts"
				class="flex flex-col items-start text-left px-2 w-full md:w-64"
			>
				<h5 class="mb-2">
					{t("footer.contacts")}
				</h5>
				<div class="flex items-center gap-2 text-sm">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="16"
						height="16"
						fill="currentColor"
						class="flex-shrink-0"
						viewBox="0 0 16 16"
						aria-hidden="true"
					>
						<path
							d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"
						></path>
					</svg>
					<a
						href={`tel:${phoneNumber.replace(/\s+/g, "")}`}
						class="hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
						aria-label={`Call us at ${phoneNumber}`}
					>
						{phoneNumber}
					</a>
				</div>
			</section>

			{/* Other Links Section */}
			<section
				class="flex flex-col items-start text-left px-2 w-full md:w-64"
			>
				<h5 class="mb-2">
					{t("footer.other_links")}
				</h5>
				<a href={cookiePolicyHref} class="hover:underline">
					{t("footer.cookie_policy")}
				</a>
				<a href={autoDetailingHref} class="hover:underline">
					{t("footer.auto_detailing")}
				</a>
				<a href={servicesHref} class="hover:underline">
					{t("footer.services")}
				</a>
				<a href={recentWorkHref} class="hover:underline">
					{t("footer.recent_work")}
				</a>
			</section>

			{/* Social Links Section */}
			<section class="flex-col items-start text-left px-2 w-full md:w-64">
				<h5 class="mb-2">{t("footer.socials")}</h5>
				<SocialLinks t={t} />
			</section>
		</div>
	</div>

	{/* Copyright */}
	<div
		class="mt-4 text-center select-none text-sm text-muted-foreground space-y-1"
	>
		<p>&copy; 2025</p>
	</div>
</footer>
