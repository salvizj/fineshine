---
import type { LanguageCode } from "~/utils/translationHooks"

interface Props {
	t: (key: string) => string
	languageCode: LanguageCode
}

const { t, languageCode } = Astro.props as Props
const cookiePolicyLink = "cookie-policy"
---

<div
	id="cookie-banner"
	class="hidden fixed bottom-0 w-screen bg-bg-muted text-sm px-4 py-4 z-50 shadow-lg border-t border-border-muted"
>
	<div
		class="max-w-screen-xl mx-auto flex flex-col sm:flex-row items-center justify-between px-4"
	>
		<span class="mb-2 sm:mb-0">
			{t("cookie.description")}
		</span>
		<div class="flex items-center space-x-4">
			<button id="cookie-banner-btn">
				{t("cookie.btn_description")}
			</button>

			<a
				href={`/${languageCode}/${cookiePolicyLink}`}
				class="text-sm text-text-secondary hover:text-text-primary transition-colors hover:underline"
			>
				{t("cookie.read_more")}
			</a>
		</div>
	</div>
</div>

<script>
	import HandleCookieBanner from "../../scripts/HandleCookieBanner"

	HandleCookieBanner()
</script>
