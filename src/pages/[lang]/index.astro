---
import CookieBanner from "../../components/cookies/CookieBanner.astro"
import Footer from "../../components/Footer/Footer.astro"
import Header from "../../components/Header/Header.astro"
import HeroHeader from "../../components/HeroHeader.astro"
import IframeMap from "../../components/IframeMap.astro"
import ServiceCol from "../../components/ServiceCol.astro"
import { languageOptions } from "../../i18n/ui"
import {
	useServiceTranslations,
	useTranslations,
	type LanguageCode,
	type Service,
} from "../../i18n/utils"

import Layout from "../../layouts/Layout.astro"

export function getStaticPaths() {
	return Object.keys(languageOptions).map((lang) => ({ params: { lang } }))
}
const languageCode = Astro.params.lang as LanguageCode
const t = useTranslations(languageCode)
const serviceList = useServiceTranslations(languageCode) as unknown as Service[]
---

<Layout>
	<Header t={t} languageCode={languageCode} />
	<section class="mt-6 p-6 flex flex-col items-center gap-8 text-center">
		<HeroHeader t={t} />
		<ServiceCol serviceList={serviceList} t={t} />
	</section>

	<div
		class="flex flex-col items-center justify-center px-4 mt-8 max-w-xl mx-auto text-center mb-8"
	>
		<h3
			class="text-2xl sm:text-3xl md:text-4xl font-semibold text-text-primary animate-fadeInUp"
		>
			{t("location_header")}
		</h3>
		<address class="mt-3 not-italic text-base text-text-secondary">
			Raiņa bulvāris 11, Centra rajons, Rīga
		</address>
	</div>

	<IframeMap />
	<Footer t={t} languageCode={languageCode} />
	<CookieBanner t={t} />
</Layout>
