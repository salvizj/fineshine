---
import { languages } from "../../i18n/ui"
import { useServiceTranslations, useTranslations } from "../../i18n/utils"
import Layout from "../../layouts/Layout.astro"

export function getStaticPaths() {
	return [
		{ params: { lang: languages.lv } },
		{ params: { lang: languages.en } },
		{ params: { lang: languages.ru } },
	]
}

const lang = Astro.params.lang as keyof typeof languages
const t = useTranslations(lang)
const tService = useServiceTranslations(lang)
---

<Layout>
	<header
		class="mt-6 rounded-lg shadow p-6 flex flex-col items-center gap-8 text-center"
	>
		<h1 class="text-5xl font-bold">{t("hero_title")}</h1>
		<h3 class="text-xl font-semibold max-w-xl">{t("hero_subtitle")}</h3>

		<div class="grid grid-cols-2 gap-6 w-full max-w-md">
			{
				Array.from({ length: 4 }).map((_, i) => {
					const service = tService((i + 1) as 1 | 2 | 3 | 4)
					return (
						<div class="flex flex-col items-center space-y-2">
							<img
								src="/images/placeholder.svg"
								alt={service.name}
								class="rounded w-24 h-24 object-cover"
							/>
							<p class="text-sm font-medium">{service.name}</p>
						</div>
					)
				})
			}
		</div>

		<section class="mt-12 max-w-6xl mx-auto px-6">
			<h2 class="text-3xl font-semibold mb-6 text-center">
				{t("gallery_title")}
			</h2>
			<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
				{
					Array.from({ length: 3 }).map((_, i) => (
						<img
							src="/images/placeholder.svg"
							alt={`${t("gallery_image_alt")} ${i + 1}`}
							class="rounded shadow"
						/>
					))
				}
			</div>
		</section>

		<section class="mt-12 max-w-4xl mx-auto px-6">
			<h2 class="text-3xl font-semibold mb-6 text-center">
				{t("pricing_title")}
			</h2>
			<div class="space-y-6">
				{
					Object.entries(tService).map(([_, service]) => (
						<div class="p-4 rounded shadow">
							<h3 class="text-xl font-semibold">
								{service.name}
							</h3>
							<p class="mt-1 text-gray-700">
								{service.description}
							</p>
							<p class="mt-1 font-bold">
								${Math.floor(Math.random() * 100 + 60)}
							</p>
						</div>
					))
				}
			</div>
		</section>
	</header>
</Layout>
